(this["webpackJsonptravenest-frontend"]=this["webpackJsonptravenest-frontend"]||[]).push([[3],{31:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(17),c=a(7);const i="http://localhost:5000/api",r={async createBooking(e){const t=c.a.getToken();return(await s.a.post(`${i}/bookings, bookingData`,{headers:{Authorization:`Bearer ${t}`}})).data},async getUserBookings(){const e=c.a.getToken();return(await s.a.get(`${i}/bookings`,{headers:{Authorization:`Bearer ${e}`}})).data},async cancelBooking(e){const t=c.a.getToken();return(await s.a.patch(`${i}/bookings/${e}/cancel`,{},{headers:{Authorization:`Bearer ${t}`}})).data}}},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a(17),c=a(7);const i="http://localhost:5000/api",r={getAllPackages:async e=>(await s.a.get(`${i}/packages`,{params:e})).data,getPackageById:async e=>(await s.a.get(`${i}/packages/${e}`)).data,async createPackage(e){const t=c.a.getToken();return(await s.a.post(`${i}/packages`,e,{headers:{Authorization:`Bearer ${t}`}})).data}}},37:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(3),i=a(32),r=a(31),n=a(5);t.default=()=>{const[e,t]=Object(s.useState)(null),[a,l]=Object(s.useState)(!0),[o,d]=Object(s.useState)(""),[j,b]=Object(s.useState)(1),[h,m]=Object(s.useState)(""),{id:x}=Object(c.s)(),u=Object(c.q)(),g=Object(s.useCallback)((async()=>{if(!x)return d("No package ID provided"),void l(!1);try{const e=await i.a.getPackageById(x);t(e),l(!1)}catch(e){d("Failed to fetch package details"),l(!1),console.error(e)}}),[x]);Object(s.useEffect)((()=>{g()}),[g]);return a?Object(n.jsx)("div",{className:"text-center py-10",children:"Loading package details..."}):o?Object(n.jsx)("div",{className:"text-red-500 text-center py-10",children:o}):e?Object(n.jsx)("div",{className:"container mx-auto px-4 py-8",children:Object(n.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[Object(n.jsx)("div",{children:e.images&&e.images.length>0?Object(n.jsx)("img",{src:e.images[0],alt:e.title,className:"w-full h-96 object-cover rounded-lg shadow-md"}):Object(n.jsx)("div",{className:"w-full h-96 bg-gray-200 flex items-center justify-center",children:"No Image Available"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:e.title}),Object(n.jsxs)("div",{className:"mb-6",children:[Object(n.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),Object(n.jsxs)("div",{className:"space-y-2",children:[Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsxs)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Object(n.jsxs)("span",{children:["Destinations: ",e.destinations.join(", ")]})]}),Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(n.jsxs)("span",{children:["Duration: ",e.duration," days"]})]}),Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(n.jsxs)("span",{children:["Price: $",e.price.toFixed(2)]})]}),Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),Object(n.jsxs)("span",{children:["Availability: ",e.availability," spots left"]})]})]})]}),Object(n.jsxs)("div",{className:"mt-6",children:[Object(n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Book Your Trip"}),Object(n.jsxs)("div",{className:"flex items-center mb-4",children:[Object(n.jsx)("label",{htmlFor:"travelers",className:"mr-4",children:"Number of Travelers:"}),Object(n.jsx)("input",{type:"number",id:"travelers",min:"1",max:e.availability,value:j,onChange:e=>b(Number(e.target.value)),className:"w-20 border rounded px-2 py-1"})]}),Object(n.jsxs)("div",{className:"flex items-center mb-4",children:[Object(n.jsx)("span",{className:"mr-4",children:"Total Price:"}),Object(n.jsxs)("span",{className:"font-bold text-blue-600",children:["$",(e.price*j).toFixed(2)]})]}),h&&Object(n.jsx)("div",{className:"text-red-500 mb-4",children:h}),Object(n.jsx)("button",{onClick:async()=>{if(x)try{await r.a.createBooking({packageId:x,travelDate:new Date,numberOfTravelers:j});u("/dashboard")}catch(a){var e,t;m((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Booking failed"),console.error(a)}else m("Invalid package")},disabled:e.availability<j,className:"w-full py-3 rounded text-white font-semibold "+(e.availability<j?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:e.availability<j?"Not Enough Availability":"Book Now"})]}),e.includedServices&&e.includedServices.length>0&&Object(n.jsxs)("div",{className:"mt-8",children:[Object(n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Included Services"}),Object(n.jsx)("ul",{className:"list-disc list-inside",children:e.includedServices.map(((e,t)=>Object(n.jsx)("li",{className:"text-gray-600",children:e},t)))})]})]})]})}):null}}}]);
//# sourceMappingURL=3.5270d00c.chunk.js.map