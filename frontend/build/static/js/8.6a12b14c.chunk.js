(this["webpackJsonptravenest-frontend"]=this["webpackJsonptravenest-frontend"]||[]).push([[8],{46:function(e,t,i){"use strict";i.r(t),i.d(t,"packageService",(function(){return n}));var a=i(0),c=i(18),r=i(10),s=i(5);const n={async getAllPackages(e){try{const t=Object(c.b)(r.b,"packages");let i=Object(c.g)(t);e&&(void 0!==e.minPrice&&(i=Object(c.g)(i,Object(c.h)("price",">=",e.minPrice))),void 0!==e.maxPrice&&(i=Object(c.g)(i,Object(c.h)("price","<=",e.maxPrice))),e.destination&&(i=Object(c.g)(i,Object(c.h)("destinations","array-contains",e.destination))));return(await Object(c.e)(i)).docs.map((e=>{const t=e.data();return{_id:e.id,title:t.title||"",description:t.description||"",price:t.price||0,duration:t.duration||0,destinations:t.destinations||[],availability:t.availability||0,images:t.images||[],includedServices:t.includedServices||[]}}))}catch(t){throw console.error("Error fetching packages",t),t}},async getPackageById(e){try{const t=Object(c.c)(r.b,"packages",e),i=await Object(c.d)(t);if(!i.exists())throw new Error("Package not found");const a=i.data();return{_id:i.id,title:a.title||"",description:a.description||"",price:a.price||0,duration:a.duration||0,destinations:a.destinations||[],availability:a.availability||0,images:a.images||[],includedServices:a.includedServices||[]}}catch(t){throw console.error("Error fetching package",t),t}},async createPackage(e){try{return(await Object(c.a)(Object(c.b)(r.b,"packages"),{title:e.title,description:e.description,price:e.price,duration:e.duration,destinations:e.destinations,availability:e.availability,images:e.images,includedServices:e.includedServices})).id}catch(t){throw console.error("Error creating package",t),t}}};t.default=()=>{const[e,t]=Object(a.useState)([]),[i,c]=Object(a.useState)(!0),[r,d]=Object(a.useState)(null);return Object(a.useEffect)((()=>{(async()=>{try{const e=await n.getAllPackages();t(e),c(!1)}catch(e){d("Failed to fetch packages"),c(!1),console.error(e)}})()}),[]),i?Object(s.jsx)("div",{children:"Loading packages..."}):r?Object(s.jsxs)("div",{children:["Error: ",r]}):Object(s.jsxs)("div",{className:"package-list-container",children:[Object(s.jsx)("h1",{children:"Available Travel Packages"}),0===e.length?Object(s.jsx)("p",{children:"No packages available at the moment."}):Object(s.jsx)("div",{className:"package-grid",children:e.map((e=>Object(s.jsxs)("div",{className:"package-card",children:[Object(s.jsx)("h3",{children:e.title}),Object(s.jsx)("p",{children:e.description}),Object(s.jsxs)("p",{children:["Price: $",e.price]}),Object(s.jsxs)("p",{children:["Duration: ",e.duration," days"]}),Object(s.jsxs)("p",{children:["Availability: ",e.availability," spots left"]}),Object(s.jsx)("button",{children:"View Details"})]},e._id)))})]})}}}]);
//# sourceMappingURL=8.6a12b14c.chunk.js.map