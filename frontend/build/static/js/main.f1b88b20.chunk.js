(this["webpackJsonptravenest-frontend"]=this["webpackJsonptravenest-frontend"]||[]).push([[0],{23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(16),c=n.n(s),o=(n(23),n(3)),l=n(13),i=n(8),u=n(5);const j=r.a.lazy((()=>n.e(6).then(n.bind(null,33)))),d=r.a.lazy((()=>n.e(7).then(n.bind(null,34)))),b=r.a.lazy((()=>n.e(4).then(n.bind(null,35)))),g=r.a.lazy((()=>n.e(5).then(n.bind(null,36)))),h=r.a.lazy((()=>n.e(3).then(n.bind(null,37)))),O=e=>{let{children:t}=e;const{user:n}=Object(i.b)();return n?Object(u.jsx)(u.Fragment,{children:t}):Object(u.jsx)(o.a,{to:"/login",replace:!0})};var x=()=>Object(u.jsx)(i.a,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)("div",{children:"Loading..."}),children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{path:"/login",element:Object(u.jsx)(j,{})}),Object(u.jsx)(o.b,{path:"/register",element:Object(u.jsx)(d,{})}),Object(u.jsx)(o.b,{path:"/dashboard",element:Object(u.jsx)(O,{children:Object(u.jsx)(b,{})})}),Object(u.jsx)(o.b,{path:"/packages",element:Object(u.jsx)(g,{})}),Object(u.jsx)(o.b,{path:"/packages/:id",element:Object(u.jsx)(O,{children:Object(u.jsx)(h,{})})}),Object(u.jsx)(o.b,{path:"/",element:Object(u.jsx)(o.a,{to:"/packages",replace:!0})})]})})})});const m=document.getElementById("root");if(m){c.a.createRoot(m).render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(x,{})}))}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17);const r="http://localhost:5000/api",s={async login(e){const t=await a.a.post(`${r}/Auth/login, credentials`);return t.data.token&&(localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("token",t.data.token)),t.data.user},async register(e){const t=await a.a.post(`${r}/auth/register, credentials`);return t.data.token&&(localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("token",t.data.token)),t.data.user},logout(){localStorage.removeItem("user"),localStorage.removeItem("token")},getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},getToken:()=>localStorage.getItem("token")}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(0),r=n(7),s=n(5);const c=Object(a.createContext)(void 0),o=e=>{let{children:t}=e;const[n,o]=Object(a.useState)(r.a.getCurrentUser());return Object(s.jsx)(c.Provider,{value:{user:n,login:async(e,t)=>{const n=await r.a.login({email:e,password:t});o(n)},register:async(e,t,n,a)=>{const s=await r.a.register({email:e,password:t,firstName:n,lastName:a});o(s)},logout:()=>{r.a.logout(),o(null)}},children:t})},l=()=>{const e=Object(a.useContext)(c);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}}},[[29,1,2]]]);
//# sourceMappingURL=main.f1b88b20.chunk.js.map