{"code":"(this[\"webpackJsonptravenest-frontend\"]=this[\"webpackJsonptravenest-frontend\"]||[]).push([[5],{39:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return r}));var s=a(47),i=a(14);const c=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:\"AIzaSyDJD_cmuOzC-yOdbcRV5BZGXykTwSx9gCk\",REACT_APP_FIREBASE_AUTH_DOMAIN:\"travenest-97367.firebaseapp.com\",REACT_APP_FIREBASE_PROJECT_ID:\"travenest-97367\"}).REACT_APP_API_URL||\"http://localhost:5000/api\",r={async createBooking(e){const t=i.a.getToken();return(await s.a.post(`${c}/bookings, bookingData`,{headers:{Authorization:`Bearer ${t}`}})).data},async getUserBookings(){const e=i.a.getToken();return(await s.a.get(`${c}api/bookings`,{headers:{Authorization:`Bearer ${e}`}})).data},async cancelBooking(e){const t=i.a.getToken();return(await s.a.patch(`${c}/bookings/${e}/cancel`,{},{headers:{Authorization:`Bearer ${t}`}})).data}}},48:function(e,t,a){\"use strict\";a.r(t);var s=a(0),i=a(3),c=a(18),r=a(10);const n={async getAllPackages(){try{const e=Object(c.b)(r.b,\"packages\");return(await Object(c.e)(e)).docs.map((e=>{const t=e.data();return{_id:e.id,title:t.title||\"\",description:t.description||\"\",price:t.price||0,duration:t.duration||0,destinations:t.destinations||[],availability:t.availability||0,images:t.images||[],includedServices:t.includedServices||[]}}))}catch(e){throw console.error(\"Error fetching packages\",e),e}},async getPackageById(e){try{const t=Object(c.c)(r.b,\"packages\",e),a=await Object(c.d)(t);if(!a.exists())throw new Error(\"Package not found\");const s=a.data();return{_id:a.id,title:s.title||\"\",description:s.description||\"\",price:s.price||0,duration:s.duration||0,destinations:s.destinations||[],availability:s.availability||0,images:s.images||[],includedServices:s.includedServices||[]}}catch(t){throw console.error(\"Error fetching package\",t),t}},async createPackage(e){try{return(await Object(c.a)(Object(c.b)(r.b,\"packages\"),{title:e.title,description:e.description,price:e.price,duration:e.duration,destinations:e.destinations,availability:e.availability,images:e.images,includedServices:e.includedServices})).id}catch(t){throw console.error(\"Error creating package\",t),t}}};var l=a(39),o=a(5);t.default=()=>{const[e,t]=Object(s.useState)(null),[a,c]=Object(s.useState)(!0),[r,d]=Object(s.useState)(\"\"),[b,j]=Object(s.useState)(1),[m,u]=Object(s.useState)(\"\"),{id:h}=Object(i.s)(),x=Object(i.q)(),v=Object(s.useCallback)((async()=>{if(!h)return d(\"No package ID provided\"),void c(!1);try{const e=await n.getPackageById(h);t(e),c(!1)}catch(e){d(\"Failed to fetch package details\"),c(!1),console.error(e)}}),[h]);Object(s.useEffect)((()=>{v()}),[v]);return a?Object(o.jsx)(\"div\",{className:\"text-center py-10\",children:\"Loading package details...\"}):r?Object(o.jsx)(\"div\",{className:\"text-red-500 text-center py-10\",children:r}):e?Object(o.jsx)(\"div\",{className:\"container mx-auto px-4 py-8\",children:Object(o.jsxs)(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[Object(o.jsx)(\"div\",{children:e.images&&e.images.length>0?Object(o.jsx)(\"img\",{src:e.images[0],alt:e.title,className:\"w-full h-96 object-cover rounded-lg shadow-md\"}):Object(o.jsx)(\"div\",{className:\"w-full h-96 bg-gray-200 flex items-center justify-center\",children:\"No Image Available\"})}),Object(o.jsxs)(\"div\",{children:[Object(o.jsx)(\"h1\",{className:\"text-3xl font-bold mb-4\",children:e.title}),Object(o.jsxs)(\"div\",{className:\"mb-6\",children:[Object(o.jsx)(\"p\",{className:\"text-gray-600 mb-4\",children:e.description}),Object(o.jsxs)(\"div\",{className:\"space-y-2\",children:[Object(o.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(o.jsxs)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[Object(o.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),Object(o.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),Object(o.jsxs)(\"span\",{children:[\"Destinations: \",e.destinations.join(\", \")]})]}),Object(o.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(o.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(o.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),Object(o.jsxs)(\"span\",{children:[\"Duration: \",e.duration,\" days\"]})]}),Object(o.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(o.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(o.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),Object(o.jsxs)(\"span\",{children:[\"Price: $\",e.price.toFixed(2)]})]}),Object(o.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(o.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(o.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"})}),Object(o.jsxs)(\"span\",{children:[\"Availability: \",e.availability,\" spots left\"]})]})]})]}),Object(o.jsxs)(\"div\",{className:\"mt-6\",children:[Object(o.jsx)(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Book Your Trip\"}),Object(o.jsxs)(\"div\",{className:\"flex items-center mb-4\",children:[Object(o.jsx)(\"label\",{htmlFor:\"travelers\",className:\"mr-4\",children:\"Number of Travelers:\"}),Object(o.jsx)(\"input\",{type:\"number\",id:\"travelers\",min:\"1\",max:e.availability,value:b,onChange:e=>j(Number(e.target.value)),className:\"w-20 border rounded px-2 py-1\"})]}),Object(o.jsxs)(\"div\",{className:\"flex items-center mb-4\",children:[Object(o.jsx)(\"span\",{className:\"mr-4\",children:\"Total Price:\"}),Object(o.jsxs)(\"span\",{className:\"font-bold text-blue-600\",children:[\"$\",(e.price*b).toFixed(2)]})]}),m&&Object(o.jsx)(\"div\",{className:\"text-red-500 mb-4\",children:m}),Object(o.jsx)(\"button\",{onClick:async()=>{if(h)try{await l.a.createBooking({packageId:h,travelDate:new Date,numberOfTravelers:b});x(\"/dashboard\")}catch(a){var e,t;u((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||\"Booking failed\"),console.error(a)}else u(\"Invalid package\")},disabled:e.availability<b,className:\"w-full py-3 rounded text-white font-semibold \"+(e.availability<b?\"bg-gray-400 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"),children:e.availability<b?\"Not Enough Availability\":\"Book Now\"})]}),e.includedServices&&e.includedServices.length>0&&Object(o.jsxs)(\"div\",{className:\"mt-8\",children:[Object(o.jsx)(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Included Services\"}),Object(o.jsx)(\"ul\",{className:\"list-disc list-inside\",children:e.includedServices.map(((e,t)=>Object(o.jsx)(\"li\",{className:\"text-gray-600\",children:e},t)))})]})]})]})}):null}}}]);","name":"static/js/5.41b9c688.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","d","bookingService","axios__WEBPACK_IMPORTED_MODULE_0__","_authService__WEBPACK_IMPORTED_MODULE_1__","API_URL","Object","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","undefined","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_FIREBASE_API_KEY","REACT_APP_FIREBASE_AUTH_DOMAIN","REACT_APP_FIREBASE_PROJECT_ID","REACT_APP_API_URL","createBooking","bookingData","token","getToken","post","headers","Authorization","data","getUserBookings","get","cancelBooking","bookingId","patch","r","react","dist","index_esm","firebaseConfig","packageService","getAllPackages","packagesCollection","docs","map","docSnapshot","_id","id","title","description","price","duration","destinations","availability","images","includedServices","error","console","getPackageById","packageDoc","packageSnapshot","exists","Error","createPackage","packageData","jsx_runtime","pkg","setPkg","loading","setLoading","setError","travelers","setTravelers","bookingError","setBookingError","navigate","fetchPackageDetails","async","packageDetails","err","className","children","length","src","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","join","toFixed","htmlFor","type","min","max","value","onChange","e","Number","target","onClick","packageId","travelDate","Date","numberOfTravelers","_error$response","_error$response$data","response","message","disabled","service","index"],"sources":["static/js/5.41b9c688.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonptravenest-frontend\"] = this[\"webpackJsonptravenest-frontend\"] || []).push([[5],{\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bookingService; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(47);\n/* harmony import */ var _authService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst API_URL=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true,\"REACT_APP_FIREBASE_API_KEY\":\"AIzaSyDJD_cmuOzC-yOdbcRV5BZGXykTwSx9gCk\",\"REACT_APP_FIREBASE_AUTH_DOMAIN\":\"travenest-97367.firebaseapp.com\",\"REACT_APP_FIREBASE_PROJECT_ID\":\"travenest-97367\"}).REACT_APP_API_URL||'http://localhost:5000/api';const bookingService={async createBooking(bookingData){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(`${API_URL}/bookings, bookingData`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},async getUserBookings(){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(`${API_URL}api/bookings`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},async cancelBooking(bookingId){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].patch(`${API_URL}/bookings/${bookingId}/cancel`,{},{headers:{Authorization:`Bearer ${token}`}});return response.data;}};\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar dist = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/esm/index.esm.js\nvar index_esm = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./src/firebaseConfig.ts\nvar firebaseConfig = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/services/packageService.ts\nconst packageService={async getAllPackages(){try{const packagesCollection=Object(index_esm[\"b\" /* collection */])(firebaseConfig[\"b\" /* db */],'packages');const packagesSnapshot=await Object(index_esm[\"e\" /* getDocs */])(packagesCollection);return packagesSnapshot.docs.map(docSnapshot=>{const data=docSnapshot.data();return{_id:docSnapshot.id,title:data.title||'',description:data.description||'',price:data.price||0,duration:data.duration||0,destinations:data.destinations||[],availability:data.availability||0,images:data.images||[],includedServices:data.includedServices||[]};});}catch(error){console.error('Error fetching packages',error);throw error;}},async getPackageById(id){try{const packageDoc=Object(index_esm[\"c\" /* doc */])(firebaseConfig[\"b\" /* db */],'packages',id);const packageSnapshot=await Object(index_esm[\"d\" /* getDoc */])(packageDoc);if(!packageSnapshot.exists()){throw new Error('Package not found');}const data=packageSnapshot.data();return{_id:packageSnapshot.id,title:data.title||'',description:data.description||'',price:data.price||0,duration:data.duration||0,destinations:data.destinations||[],availability:data.availability||0,images:data.images||[],includedServices:data.includedServices||[]};}catch(error){console.error('Error fetching package',error);throw error;}},async createPackage(packageData){try{const docRef=await Object(index_esm[\"a\" /* addDoc */])(Object(index_esm[\"b\" /* collection */])(firebaseConfig[\"b\" /* db */],'packages'),{title:packageData.title,description:packageData.description,price:packageData.price,duration:packageData.duration,destinations:packageData.destinations,availability:packageData.availability,images:packageData.images,includedServices:packageData.includedServices});return docRef.id;}catch(error){console.error('Error creating package',error);throw error;}}};\n// EXTERNAL MODULE: ./src/services/bookingService.ts\nvar bookingService = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/components/Packages/PackageDetails.tsx\nconst PackageDetails=()=>{const[pkg,setPkg]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])('');const[travelers,setTravelers]=Object(react[\"useState\"])(1);const[bookingError,setBookingError]=Object(react[\"useState\"])('');const{id}=Object(dist[\"s\" /* useParams */])();const navigate=Object(dist[\"q\" /* useNavigate */])();const fetchPackageDetails=Object(react[\"useCallback\"])(async()=>{if(!id){setError('No package ID provided');setLoading(false);return;}try{const packageDetails=await packageService.getPackageById(id);setPkg(packageDetails);setLoading(false);}catch(err){setError('Failed to fetch package details');setLoading(false);console.error(err);}},[id]);Object(react[\"useEffect\"])(()=>{fetchPackageDetails();},[fetchPackageDetails]);const handleBookPackage=async()=>{if(!id){setBookingError('Invalid package');return;}try{// You might want to add a date picker for travel date in a real app\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst booking=await bookingService[\"a\" /* bookingService */].createBooking({packageId:id,travelDate:new Date(),// Default to current date\nnumberOfTravelers:travelers});// Redirect to dashboard or booking confirmation\nnavigate('/dashboard');}catch(err){var _error$response,_error$response$data;// eslint-disable-next-line semi\nconst error=err;setBookingError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Booking failed');console.error(err);}};if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center py-10\",children:\"Loading package details...\"});if(error)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-red-500 text-center py-10\",children:error});if(!pkg)return null;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:pkg.images&&pkg.images.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:pkg.images[0],alt:pkg.title,className:\"w-full h-96 object-cover rounded-lg shadow-md\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"w-full h-96 bg-gray-200 flex items-center justify-center\",children:\"No Image Available\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-3xl font-bold mb-4\",children:pkg.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"text-gray-600 mb-4\",children:pkg.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Destinations: \",pkg.destinations.join(', ')]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Duration: \",pkg.duration,\" days\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Price: $\",pkg.price.toFixed(2)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"Availability: \",pkg.availability,\" spots left\"]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Book Your Trip\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"travelers\",className:\"mr-4\",children:\"Number of Travelers:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",id:\"travelers\",min:\"1\",max:pkg.availability,value:travelers,onChange:e=>setTravelers(Number(e.target.value)),className:\"w-20 border rounded px-2 py-1\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"mr-4\",children:\"Total Price:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"font-bold text-blue-600\",children:[\"$\",(pkg.price*travelers).toFixed(2)]})]}),bookingError&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-red-500 mb-4\",children:bookingError}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleBookPackage,disabled:pkg.availability<travelers,className:`w-full py-3 rounded text-white font-semibold ${pkg.availability<travelers?'bg-gray-400 cursor-not-allowed':'bg-blue-600 hover:bg-blue-700'}`,children:pkg.availability<travelers?'Not Enough Availability':'Book Now'})]}),pkg.includedServices&&pkg.includedServices.length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Included Services\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"list-disc list-inside\",children:pkg.includedServices.map((service,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"text-gray-600\",children:service},index))})]})]})]})});};/* harmony default export */ var Packages_PackageDetails = __webpack_exports__[\"default\"] = (PackageDetails);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/pampam/TravelNest/TravelNest/frontend/src/services/bookingService.ts","C:/Users/pampam/TravelNest/TravelNest/frontend/src/services/packageService.ts","C:/Users/pampam/TravelNest/TravelNest/frontend/src/components/Packages/PackageDetails.tsx"],"names":["API_URL","process","REACT_APP_API_URL","bookingService","createBooking","bookingData","token","authService","getToken","response","axios","post","headers","Authorization","data","getUserBookings","get","cancelBooking","bookingId","patch","packageService","getAllPackages","packagesCollection","collection","db","packagesSnapshot","getDocs","docs","map","docSnapshot","_id","id","title","description","price","duration","destinations","availability","images","includedServices","error","console","getPackageById","packageDoc","doc","packageSnapshot","getDoc","exists","Error","createPackage","packageData","docRef","addDoc","PackageDetails","pkg","setPkg","useState","loading","setLoading","setError","travelers","setTravelers","bookingError","setBookingError","useParams","navigate","useNavigate","fetchPackageDetails","useCallback","packageDetails","err","useEffect","handleBookPackage","booking","packageId","travelDate","Date","numberOfTravelers","_error$response","_error$response$data","message","_jsx","className","children","_jsxs","length","src","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","join","toFixed","htmlFor","type","min","max","value","onChange","e","Number","target","onClick","disabled","service","index"],"mappings":"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","file":"x","sourcesContent":["import axios from 'axios';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Booking } from '../types/Booking';\r\nimport { authService } from './authService';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport const bookingService = {\r\n  async createBooking(bookingData: {\r\n    packageId: string;\r\n    travelDate: Date;\r\n    numberOfTravelers: number;\r\n  }) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.post(`${API_URL}/bookings, bookingData`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  async getUserBookings() {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.get(`${API_URL}api/bookings`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  async cancelBooking(bookingId: string) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.patch(\r\n      `${API_URL}/bookings/${bookingId}/cancel`, \r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n    );\r\n    return response.data;\r\n  }\r\n}; ","import { \r\n  collection, \r\n  addDoc, \r\n  getDocs, \r\n  doc, \r\n  getDoc \r\n} from 'firebase/firestore';\r\nimport { db } from '../firebaseConfig';\r\nimport { Package } from '../types/Package';\r\n\r\nexport const packageService = {\r\n  async getAllPackages(): Promise<Package[]> {\r\n    try {\r\n      const packagesCollection = collection(db, 'packages');\r\n      const packagesSnapshot = await getDocs(packagesCollection);\r\n      return packagesSnapshot.docs.map(docSnapshot => {\r\n        const data = docSnapshot.data();\r\n        return {\r\n          _id: docSnapshot.id,\r\n          title: data.title || '',\r\n          description: data.description || '',\r\n          price: data.price || 0,\r\n          duration: data.duration || 0,\r\n          destinations: data.destinations || [],\r\n          availability: data.availability || 0,\r\n          images: data.images || [],\r\n          includedServices: data.includedServices || []\r\n        } as Package;\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching packages', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getPackageById(id: string): Promise<Package> {\r\n    try {\r\n      const packageDoc = doc(db, 'packages', id);\r\n      const packageSnapshot = await getDoc(packageDoc);\r\n      \r\n      if (!packageSnapshot.exists()) {\r\n        throw new Error('Package not found');\r\n      }\r\n\r\n      const data = packageSnapshot.data();\r\n      return {\r\n        _id: packageSnapshot.id,\r\n        title: data.title || '',\r\n        description: data.description || '',\r\n        price: data.price || 0,\r\n        duration: data.duration || 0,\r\n        destinations: data.destinations || [],\r\n        availability: data.availability || 0,\r\n        images: data.images || [],\r\n        includedServices: data.includedServices || []\r\n      } as Package;\r\n    } catch (error) {\r\n      console.error('Error fetching package', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async createPackage(packageData: Package): Promise<string> {\r\n    try {\r\n      const docRef = await addDoc(collection(db, 'packages'), {\r\n        title: packageData.title,\r\n        description: packageData.description,\r\n        price: packageData.price,\r\n        duration: packageData.duration,\r\n        destinations: packageData.destinations,\r\n        availability: packageData.availability,\r\n        images: packageData.images,\r\n        includedServices: packageData.includedServices\r\n      });\r\n      return docRef.id;\r\n    } catch (error) {\r\n      console.error('Error creating package', error);\r\n      throw error;\r\n    }\r\n  }\r\n};","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { packageService } from '../../services/packageService';\r\nimport { bookingService } from '../../services/bookingService';\r\nimport { Package } from '../../types/Package';\r\n\r\nconst PackageDetails: React.FC = () => {\r\n  const [pkg, setPkg] = useState<Package | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [travelers, setTravelers] = useState(1);\r\n  const [bookingError, setBookingError] = useState('');\r\n\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n\r\n  const fetchPackageDetails = useCallback(async () => {\r\n    if (!id) {\r\n      setError('No package ID provided');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const packageDetails = await packageService.getPackageById(id);\r\n      setPkg(packageDetails);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError('Failed to fetch package details');\r\n      setLoading(false);\r\n      console.error(err);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchPackageDetails();\r\n  }, [fetchPackageDetails]);\r\n\r\n  const handleBookPackage = async () => {\r\n    if (!id) {\r\n      setBookingError('Invalid package');\r\n      return;\r\n    }\r\n    try {\r\n      // You might want to add a date picker for travel date in a real app\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      const booking = await bookingService.createBooking({\r\n        packageId: id,\r\n        travelDate: new Date(), // Default to current date\r\n        numberOfTravelers: travelers\r\n      });\r\n\r\n      // Redirect to dashboard or booking confirmation\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      // eslint-disable-next-line semi\r\n      const error = err as any;\r\n      setBookingError(error.response?.data?.message || 'Booking failed');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center py-10\">Loading package details...</div>;\r\n  if (error) return <div className=\"text-red-500 text-center py-10\">{error}</div>;\r\n  if (!pkg) return null;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"grid md:grid-cols-2 gap-8\">\r\n        {/* Image Gallery */}\r\n        <div>\r\n          {pkg.images && pkg.images.length > 0 ? (\r\n            <img \r\n              src={pkg.images[0]} \r\n              alt={pkg.title} \r\n              className=\"w-full h-96 object-cover rounded-lg shadow-md\"\r\n            />\r\n          ) : (\r\n            <div className=\"w-full h-96 bg-gray-200 flex items-center justify-center\">\r\n              No Image Available\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Package Details */}\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold mb-4\">{pkg.title}</h1>\r\n          \r\n          <div className=\"mb-6\">\r\n            <p className=\"text-gray-600 mb-4\">{pkg.description}</p>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                </svg>\r\n                <span>Destinations: {pkg.destinations.join(', ')}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <span>Duration: {pkg.duration} days</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <span>Price: ${pkg.price.toFixed(2)}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\r\n                </svg>\r\n                <span>Availability: {pkg.availability} spots left</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Booking Section */}\r\n          <div className=\"mt-6\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Book Your Trip</h2>\r\n            \r\n            <div className=\"flex items-center mb-4\">\r\n              <label htmlFor=\"travelers\" className=\"mr-4\">Number of Travelers:</label>\r\n              <input \r\n                type=\"number\" \r\n                id=\"travelers\"\r\n                min=\"1\"\r\n                max={pkg.availability}\r\n                value={travelers}\r\n                onChange={(e) => setTravelers(Number(e.target.value))}\r\n                className=\"w-20 border rounded px-2 py-1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center mb-4\">\r\n              <span className=\"mr-4\">Total Price:</span>\r\n              <span className=\"font-bold text-blue-600\">\r\n                ${(pkg.price * travelers).toFixed(2)}\r\n              </span>\r\n            </div>\r\n\r\n            {bookingError && (\r\n              <div className=\"text-red-500 mb-4\">{bookingError}</div>\r\n            )}\r\n\r\n            <button \r\n              onClick={handleBookPackage}\r\n              disabled={pkg.availability < travelers}\r\n              className={`w-full py-3 rounded text-white font-semibold ${\r\n                pkg.availability < travelers \r\n                  ? 'bg-gray-400 cursor-not-allowed' \r\n                  : 'bg-blue-600 hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              {pkg.availability < travelers \r\n                ? 'Not Enough Availability' \r\n                : 'Book Now'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Included Services */}\r\n          {pkg.includedServices && pkg.includedServices.length > 0 && (\r\n            <div className=\"mt-8\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Included Services</h2>\r\n              <ul className=\"list-disc list-inside\">\r\n                {pkg.includedServices.map((service, index) => (\r\n                  <li key={index} className=\"text-gray-600\">{service}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PackageDetails;"]}}