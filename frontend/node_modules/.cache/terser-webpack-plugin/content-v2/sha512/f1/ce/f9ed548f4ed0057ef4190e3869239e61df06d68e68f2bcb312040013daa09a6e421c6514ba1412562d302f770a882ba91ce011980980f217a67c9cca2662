{"code":"(this[\"webpackJsonptravenest-frontend\"]=this[\"webpackJsonptravenest-frontend\"]||[]).push([[3],{31:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return r}));var s=a(17),c=a(7);const i=\"http://localhost:5000/api\",r={async createBooking(e){const t=c.a.getToken();return(await s.a.post(`${i}/bookings, bookingData`,{headers:{Authorization:`Bearer ${t}`}})).data},async getUserBookings(){const e=c.a.getToken();return(await s.a.get(`${i}/bookings`,{headers:{Authorization:`Bearer ${e}`}})).data},async cancelBooking(e){const t=c.a.getToken();return(await s.a.patch(`${i}/bookings/${e}/cancel`,{},{headers:{Authorization:`Bearer ${t}`}})).data}}},32:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return r}));var s=a(17),c=a(7);const i=\"http://localhost:5000/api\",r={getAllPackages:async e=>(await s.a.get(`${i}/packages`,{params:e})).data,getPackageById:async e=>(await s.a.get(`${i}/packages/${e}`)).data,async createPackage(e){const t=c.a.getToken();return(await s.a.post(`${i}/packages`,e,{headers:{Authorization:`Bearer ${t}`}})).data}}},37:function(e,t,a){\"use strict\";a.r(t);var s=a(0),c=a(3),i=a(32),r=a(31),n=a(5);t.default=()=>{const[e,t]=Object(s.useState)(null),[a,l]=Object(s.useState)(!0),[o,d]=Object(s.useState)(\"\"),[j,b]=Object(s.useState)(1),[h,m]=Object(s.useState)(\"\"),{id:x}=Object(c.s)(),u=Object(c.q)(),g=Object(s.useCallback)((async()=>{if(!x)return d(\"No package ID provided\"),void l(!1);try{const e=await i.a.getPackageById(x);t(e),l(!1)}catch(e){d(\"Failed to fetch package details\"),l(!1),console.error(e)}}),[x]);Object(s.useEffect)((()=>{g()}),[g]);return a?Object(n.jsx)(\"div\",{className:\"text-center py-10\",children:\"Loading package details...\"}):o?Object(n.jsx)(\"div\",{className:\"text-red-500 text-center py-10\",children:o}):e?Object(n.jsx)(\"div\",{className:\"container mx-auto px-4 py-8\",children:Object(n.jsxs)(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[Object(n.jsx)(\"div\",{children:e.images&&e.images.length>0?Object(n.jsx)(\"img\",{src:e.images[0],alt:e.title,className:\"w-full h-96 object-cover rounded-lg shadow-md\"}):Object(n.jsx)(\"div\",{className:\"w-full h-96 bg-gray-200 flex items-center justify-center\",children:\"No Image Available\"})}),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(\"h1\",{className:\"text-3xl font-bold mb-4\",children:e.title}),Object(n.jsxs)(\"div\",{className:\"mb-6\",children:[Object(n.jsx)(\"p\",{className:\"text-gray-600 mb-4\",children:e.description}),Object(n.jsxs)(\"div\",{className:\"space-y-2\",children:[Object(n.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(n.jsxs)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[Object(n.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),Object(n.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),Object(n.jsxs)(\"span\",{children:[\"Destinations: \",e.destinations.join(\", \")]})]}),Object(n.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(n.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(n.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),Object(n.jsxs)(\"span\",{children:[\"Duration: \",e.duration,\" days\"]})]}),Object(n.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(n.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(n.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),Object(n.jsxs)(\"span\",{children:[\"Price: $\",e.price.toFixed(2)]})]}),Object(n.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(n.jsx)(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Object(n.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"})}),Object(n.jsxs)(\"span\",{children:[\"Availability: \",e.availability,\" spots left\"]})]})]})]}),Object(n.jsxs)(\"div\",{className:\"mt-6\",children:[Object(n.jsx)(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Book Your Trip\"}),Object(n.jsxs)(\"div\",{className:\"flex items-center mb-4\",children:[Object(n.jsx)(\"label\",{htmlFor:\"travelers\",className:\"mr-4\",children:\"Number of Travelers:\"}),Object(n.jsx)(\"input\",{type:\"number\",id:\"travelers\",min:\"1\",max:e.availability,value:j,onChange:e=>b(Number(e.target.value)),className:\"w-20 border rounded px-2 py-1\"})]}),Object(n.jsxs)(\"div\",{className:\"flex items-center mb-4\",children:[Object(n.jsx)(\"span\",{className:\"mr-4\",children:\"Total Price:\"}),Object(n.jsxs)(\"span\",{className:\"font-bold text-blue-600\",children:[\"$\",(e.price*j).toFixed(2)]})]}),h&&Object(n.jsx)(\"div\",{className:\"text-red-500 mb-4\",children:h}),Object(n.jsx)(\"button\",{onClick:async()=>{if(x)try{await r.a.createBooking({packageId:x,travelDate:new Date,numberOfTravelers:j});u(\"/dashboard\")}catch(a){var e,t;m((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||\"Booking failed\"),console.error(a)}else m(\"Invalid package\")},disabled:e.availability<j,className:\"w-full py-3 rounded text-white font-semibold \"+(e.availability<j?\"bg-gray-400 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"),children:e.availability<j?\"Not Enough Availability\":\"Book Now\"})]}),e.includedServices&&e.includedServices.length>0&&Object(n.jsxs)(\"div\",{className:\"mt-8\",children:[Object(n.jsx)(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Included Services\"}),Object(n.jsx)(\"ul\",{className:\"list-disc list-inside\",children:e.includedServices.map(((e,t)=>Object(n.jsx)(\"li\",{className:\"text-gray-600\",children:e},t)))})]})]})]})}):null}}}]);","name":"static/js/3.5270d00c.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","d","bookingService","axios__WEBPACK_IMPORTED_MODULE_0__","_authService__WEBPACK_IMPORTED_MODULE_1__","API_URL","createBooking","bookingData","token","getToken","post","headers","Authorization","data","getUserBookings","get","cancelBooking","bookingId","patch","packageService","async","filters","params","id","createPackage","packageData","r","react__WEBPACK_IMPORTED_MODULE_0__","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_services_packageService__WEBPACK_IMPORTED_MODULE_2__","_services_bookingService__WEBPACK_IMPORTED_MODULE_3__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__","pkg","setPkg","Object","loading","setLoading","error","setError","travelers","setTravelers","bookingError","setBookingError","navigate","fetchPackageDetails","packageDetails","getPackageById","err","console","className","children","images","length","src","alt","title","description","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","destinations","join","duration","price","toFixed","availability","htmlFor","type","min","max","value","onChange","e","Number","target","onClick","packageId","travelDate","Date","numberOfTravelers","_error$response","_error$response$data","response","message","disabled","includedServices","map","service","index"],"sources":["static/js/3.5270d00c.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonptravenest-frontend\"] = this[\"webpackJsonptravenest-frontend\"] || []).push([[3],{\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bookingService; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var _authService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst API_URL=\"http://localhost:5000/api\"||false;const bookingService={async createBooking(bookingData){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(`${API_URL}/bookings, bookingData`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},async getUserBookings(){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(`${API_URL}/bookings`,{headers:{Authorization:`Bearer ${token}`}});return response.data;},async cancelBooking(bookingId){// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].patch(`${API_URL}/bookings/${bookingId}/cancel`,{},{headers:{Authorization:`Bearer ${token}`}});return response.data;}};\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return packageService; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);\n/* harmony import */ var _authService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\nconst API_URL=\"http://localhost:5000/api\"||false;const packageService={async getAllPackages(filters){const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(`${API_URL}/packages`,{params:filters});return response.data;},async getPackageById(id){const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(`${API_URL}/packages/${id}`);return response.data;},async createPackage(packageData){const token=_authService__WEBPACK_IMPORTED_MODULE_1__[/* authService */ \"a\"].getToken();const response=await axios__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(`${API_URL}/packages`,packageData,{headers:{Authorization:`Bearer ${token}`}});return response.data;}};\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var _services_packageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32);\n/* harmony import */ var _services_bookingService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(31);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\nconst PackageDetails=()=>{const[pkg,setPkg]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);const[loading,setLoading]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);const[error,setError]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])('');const[travelers,setTravelers]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(1);const[bookingError,setBookingError]=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])('');const{id}=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[/* useParams */ \"s\"])();const navigate=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[/* useNavigate */ \"q\"])();const fetchPackageDetails=Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(async()=>{if(!id){setError('No package ID provided');setLoading(false);return;}try{const packageDetails=await _services_packageService__WEBPACK_IMPORTED_MODULE_2__[/* packageService */ \"a\"].getPackageById(id);setPkg(packageDetails);setLoading(false);}catch(err){setError('Failed to fetch package details');setLoading(false);console.error(err);}},[id]);Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(()=>{fetchPackageDetails();},[fetchPackageDetails]);const handleBookPackage=async()=>{if(!id){setBookingError('Invalid package');return;}try{// You might want to add a date picker for travel date in a real app\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst booking=await _services_bookingService__WEBPACK_IMPORTED_MODULE_3__[/* bookingService */ \"a\"].createBooking({packageId:id,travelDate:new Date(),// Default to current date\nnumberOfTravelers:travelers});// Redirect to dashboard or booking confirmation\nnavigate('/dashboard');}catch(err){var _error$response,_error$response$data;// eslint-disable-next-line semi\nconst error=err;setBookingError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Booking failed');console.error(err);}};if(loading)return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{className:\"text-center py-10\",children:\"Loading package details...\"});if(error)return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{className:\"text-red-500 text-center py-10\",children:error});if(!pkg)return null;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{children:pkg.images&&pkg.images.length>0?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"img\",{src:pkg.images[0],alt:pkg.title,className:\"w-full h-96 object-cover rounded-lg shadow-md\"}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{className:\"w-full h-96 bg-gray-200 flex items-center justify-center\",children:\"No Image Available\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"h1\",{className:\"text-3xl font-bold mb-4\",children:pkg.title}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"p\",{className:\"text-gray-600 mb-4\",children:pkg.description}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"span\",{children:[\"Destinations: \",pkg.destinations.join(', ')]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"span\",{children:[\"Duration: \",pkg.duration,\" days\"]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"span\",{children:[\"Price: $\",pkg.price.toFixed(2)]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"svg\",{className:\"w-5 h-5 mr-2 text-blue-500\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"span\",{children:[\"Availability: \",pkg.availability,\" spots left\"]})]})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Book Your Trip\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"label\",{htmlFor:\"travelers\",className:\"mr-4\",children:\"Number of Travelers:\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"input\",{type:\"number\",id:\"travelers\",min:\"1\",max:pkg.availability,value:travelers,onChange:e=>setTravelers(Number(e.target.value)),className:\"w-20 border rounded px-2 py-1\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"span\",{className:\"mr-4\",children:\"Total Price:\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"span\",{className:\"font-bold text-blue-600\",children:[\"$\",(pkg.price*travelers).toFixed(2)]})]}),bookingError&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"div\",{className:\"text-red-500 mb-4\",children:bookingError}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"button\",{onClick:handleBookPackage,disabled:pkg.availability<travelers,className:`w-full py-3 rounded text-white font-semibold ${pkg.availability<travelers?'bg-gray-400 cursor-not-allowed':'bg-blue-600 hover:bg-blue-700'}`,children:pkg.availability<travelers?'Not Enough Availability':'Book Now'})]}),pkg.includedServices&&pkg.includedServices.length>0&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsxs\"])(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Included Services\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"ul\",{className:\"list-disc list-inside\",children:pkg.includedServices.map((service,index)=>/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__[\"jsx\"])(\"li\",{className:\"text-gray-600\",children:service},index))})]})]})]})});};/* harmony default export */ __webpack_exports__[\"default\"] = (PackageDetails);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/pampam/TravelNest/TravelNest/frontend/src/services/bookingService.ts","C:/Users/pampam/TravelNest/TravelNest/frontend/src/services/packageService.ts","C:/Users/pampam/TravelNest/TravelNest/frontend/src/components/Packages/PackageDetails.tsx"],"names":["API_URL","process","bookingService","createBooking","bookingData","token","authService","getToken","response","axios","post","headers","Authorization","data","getUserBookings","get","cancelBooking","bookingId","patch","packageService","getAllPackages","filters","params","getPackageById","id","createPackage","packageData","PackageDetails","pkg","setPkg","useState","loading","setLoading","error","setError","travelers","setTravelers","bookingError","setBookingError","useParams","navigate","useNavigate","fetchPackageDetails","useCallback","packageDetails","err","console","useEffect","handleBookPackage","booking","packageId","travelDate","Date","numberOfTravelers","_error$response","_error$response$data","message","_jsx","className","children","_jsxs","images","length","src","alt","title","description","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","destinations","join","duration","price","toFixed","availability","htmlFor","type","min","max","value","onChange","e","Number","target","onClick","disabled","includedServices","map","service","index"],"mappings":"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","file":"x","sourcesContent":["import axios from 'axios';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Booking } from '../types/Booking';\r\nimport { authService } from './authService';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport const bookingService = {\r\n  async createBooking(bookingData: {\r\n    packageId: string;\r\n    travelDate: Date;\r\n    numberOfTravelers: number;\r\n  }) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.post(`${API_URL}/bookings, bookingData`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  async getUserBookings() {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.get(`${API_URL}/bookings`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  },\r\n  \r\n  async cancelBooking(bookingId: string) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const token = authService.getToken();\r\n    const response = await axios.patch(\r\n      `${API_URL}/bookings/${bookingId}/cancel`, \r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n    );\r\n    return response.data;\r\n  }\r\n}; ","import axios from 'axios';\r\nimport { Package } from '../types/Package';\r\nimport { authService } from './authService';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport const packageService = {\r\n  async getAllPackages(filters?: {\r\n    minPrice?: number;\r\n    maxPrice?: number;\r\n    destination?: string;\r\n    duration?: number;\r\n  }) {\r\n    const response = await axios.get(`${API_URL}/packages`, { params: filters });\r\n    return response.data;\r\n  },\r\n  \r\n  async getPackageById(id: string) {\r\n    const response = await axios.get(`${API_URL}/packages/${id}`);\r\n    return response.data;\r\n  },\r\n  \r\n  async createPackage(packageData: Partial<Package>) {\r\n    const token = authService.getToken();\r\n    const response = await axios.post(`${API_URL}/packages`, packageData, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  }\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { packageService } from '../../services/packageService';\r\nimport { bookingService } from '../../services/bookingService';\r\nimport { Package } from '../../types/Package';\r\n\r\nconst PackageDetails: React.FC = () => {\r\n  const [pkg, setPkg] = useState<Package | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [travelers, setTravelers] = useState(1);\r\n  const [bookingError, setBookingError] = useState('');\r\n\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n\r\n  const fetchPackageDetails = useCallback(async () => {\r\n    if (!id) {\r\n      setError('No package ID provided');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const packageDetails = await packageService.getPackageById(id);\r\n      setPkg(packageDetails);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError('Failed to fetch package details');\r\n      setLoading(false);\r\n      console.error(err);\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchPackageDetails();\r\n  }, [fetchPackageDetails]);\r\n\r\n  const handleBookPackage = async () => {\r\n    if (!id) {\r\n      setBookingError('Invalid package');\r\n      return;\r\n    }\r\n    try {\r\n      // You might want to add a date picker for travel date in a real app\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n      const booking = await bookingService.createBooking({\r\n        packageId: id,\r\n        travelDate: new Date(), // Default to current date\r\n        numberOfTravelers: travelers\r\n      });\r\n\r\n      // Redirect to dashboard or booking confirmation\r\n      navigate('/dashboard');\r\n    } catch (err) {\r\n      // eslint-disable-next-line semi\r\n      const error = err as any;\r\n      setBookingError(error.response?.data?.message || 'Booking failed');\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center py-10\">Loading package details...</div>;\r\n  if (error) return <div className=\"text-red-500 text-center py-10\">{error}</div>;\r\n  if (!pkg) return null;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"grid md:grid-cols-2 gap-8\">\r\n        {/* Image Gallery */}\r\n        <div>\r\n          {pkg.images && pkg.images.length > 0 ? (\r\n            <img \r\n              src={pkg.images[0]} \r\n              alt={pkg.title} \r\n              className=\"w-full h-96 object-cover rounded-lg shadow-md\"\r\n            />\r\n          ) : (\r\n            <div className=\"w-full h-96 bg-gray-200 flex items-center justify-center\">\r\n              No Image Available\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Package Details */}\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold mb-4\">{pkg.title}</h1>\r\n          \r\n          <div className=\"mb-6\">\r\n            <p className=\"text-gray-600 mb-4\">{pkg.description}</p>\r\n            \r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                </svg>\r\n                <span>Destinations: {pkg.destinations.join(', ')}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <span>Duration: {pkg.duration} days</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <span>Price: ${pkg.price.toFixed(2)}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center\">\r\n                <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\" />\r\n                </svg>\r\n                <span>Availability: {pkg.availability} spots left</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Booking Section */}\r\n          <div className=\"mt-6\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Book Your Trip</h2>\r\n            \r\n            <div className=\"flex items-center mb-4\">\r\n              <label htmlFor=\"travelers\" className=\"mr-4\">Number of Travelers:</label>\r\n              <input \r\n                type=\"number\" \r\n                id=\"travelers\"\r\n                min=\"1\"\r\n                max={pkg.availability}\r\n                value={travelers}\r\n                onChange={(e) => setTravelers(Number(e.target.value))}\r\n                className=\"w-20 border rounded px-2 py-1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center mb-4\">\r\n              <span className=\"mr-4\">Total Price:</span>\r\n              <span className=\"font-bold text-blue-600\">\r\n                ${(pkg.price * travelers).toFixed(2)}\r\n              </span>\r\n            </div>\r\n\r\n            {bookingError && (\r\n              <div className=\"text-red-500 mb-4\">{bookingError}</div>\r\n            )}\r\n\r\n            <button \r\n              onClick={handleBookPackage}\r\n              disabled={pkg.availability < travelers}\r\n              className={`w-full py-3 rounded text-white font-semibold ${\r\n                pkg.availability < travelers \r\n                  ? 'bg-gray-400 cursor-not-allowed' \r\n                  : 'bg-blue-600 hover:bg-blue-700'\r\n              }`}\r\n            >\r\n              {pkg.availability < travelers \r\n                ? 'Not Enough Availability' \r\n                : 'Book Now'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Included Services */}\r\n          {pkg.includedServices && pkg.includedServices.length > 0 && (\r\n            <div className=\"mt-8\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">Included Services</h2>\r\n              <ul className=\"list-disc list-inside\">\r\n                {pkg.includedServices.map((service, index) => (\r\n                  <li key={index} className=\"text-gray-600\">{service}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PackageDetails;"]}}