{"code":"(this[\"webpackJsonptravenest-frontend\"]=this[\"webpackJsonptravenest-frontend\"]||[]).push([[8],{46:function(e,i,t){\"use strict\";t.r(i),t.d(i,\"packageService\",(function(){return r}));var a=t(18),c=t(10);const r={async getAllPackages(e){try{const i=Object(a.b)(c.b,\"packages\");let t=Object(a.g)(i);e&&(void 0!==e.minPrice&&(t=Object(a.g)(t,Object(a.h)(\"price\",\">=\",e.minPrice))),void 0!==e.maxPrice&&(t=Object(a.g)(t,Object(a.h)(\"price\",\"<=\",e.maxPrice))),e.destination&&(t=Object(a.g)(t,Object(a.h)(\"destinations\",\"array-contains\",e.destination))));return(await Object(a.e)(t)).docs.map((e=>{const i=e.data();return{_id:e.id,title:i.title||\"\",description:i.description||\"\",price:i.price||0,duration:i.duration||0,destinations:i.destinations||[],availability:i.availability||0,images:i.images||[],includedServices:i.includedServices||[]}}))}catch(i){throw console.error(\"Error fetching packages\",i),i}},async getPackageById(e){try{const i=Object(a.c)(c.b,\"packages\",e),t=await Object(a.d)(i);if(!t.exists())throw new Error(\"Package not found\");const r=t.data();return{_id:t.id,title:r.title||\"\",description:r.description||\"\",price:r.price||0,duration:r.duration||0,destinations:r.destinations||[],availability:r.availability||0,images:r.images||[],includedServices:r.includedServices||[]}}catch(i){throw console.error(\"Error fetching package\",i),i}},async createPackage(e){try{return(await Object(a.a)(Object(a.b)(c.b,\"packages\"),{title:e.title,description:e.description,price:e.price,duration:e.duration,destinations:e.destinations,availability:e.availability,images:e.images,includedServices:e.includedServices})).id}catch(i){throw console.error(\"Error creating package\",i),i}}}}}]);","name":"static/js/8.5443fa9f.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","packageService","firebase_firestore__WEBPACK_IMPORTED_MODULE_0__","_firebaseConfig__WEBPACK_IMPORTED_MODULE_1__","getAllPackages","filters","packagesCollection","Object","q","undefined","minPrice","maxPrice","destination","docs","map","docSnapshot","data","_id","id","title","description","price","duration","destinations","availability","images","includedServices","error","console","getPackageById","packageDoc","packageSnapshot","exists","Error","createPackage","packageData"],"sources":["static/js/8.5443fa9f.chunk.js"],"mappings":"CAACA,KAAK,kCAAoCA,KAAK,mCAAqC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5F,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACSC,EAAoBE,EAAEH,EAAqB,kBAAkB,WAAa,OAAOI,CAAgB,IAC3G,IAAIC,EAAkDJ,EAAoB,IACtEK,EAA+CL,EAAoB,IAC5F,MAAMG,EAAe,CAAC,oBAAMG,CAAeC,GAAS,IAAI,MAAMC,EAAmBC,OAAOL,EAAoE,EAA3EK,CAA8EJ,EAAyD,EAAE,YAC1N,IAAIK,EAAED,OAAOL,EAA+D,EAAtEK,CAAyED,GAAuBD,SAA+BI,IAAnBJ,EAAQK,WAAsBF,EAAED,OAAOL,EAA+D,EAAtEK,CAAyEC,EAAED,OAAOL,EAA+D,EAAtEK,CAAyE,QAAQ,KAAKF,EAAQK,iBAAkCD,IAAnBJ,EAAQM,WAAsBH,EAAED,OAAOL,EAA+D,EAAtEK,CAAyEC,EAAED,OAAOL,EAA+D,EAAtEK,CAAyE,QAAQ,KAAKF,EAAQM,YAAeN,EAAQO,cAAaJ,EAAED,OAAOL,EAA+D,EAAtEK,CAAyEC,EAAED,OAAOL,EAA+D,EAAtEK,CAAyE,eAAe,iBAAiBF,EAAQO,gBAA2H,aAA9EL,OAAOL,EAAiE,EAAxEK,CAA2EC,IAA2BK,KAAKC,KAAIC,IAAc,MAAMC,EAAKD,EAAYC,OAAO,MAAM,CAACC,IAAIF,EAAYG,GAAGC,MAAMH,EAAKG,OAAO,GAAGC,YAAYJ,EAAKI,aAAa,GAAGC,MAAML,EAAKK,OAAO,EAAEC,SAASN,EAAKM,UAAU,EAAEC,aAAaP,EAAKO,cAAc,GAAGC,aAAaR,EAAKQ,cAAc,EAAEC,OAAOT,EAAKS,QAAQ,GAAGC,iBAAiBV,EAAKU,kBAAkB,GAAG,GAAI,CAAC,MAAMC,GAAsD,MAA/CC,QAAQD,MAAM,0BAA0BA,GAAaA,CAAM,CAAC,EAAE,oBAAME,CAAeX,GAAI,IAAI,MAAMY,EAAWvB,OAAOL,EAA6D,EAApEK,CAAuEJ,EAAyD,EAAE,WAAWe,GAAUa,QAAsBxB,OAAOL,EAAgE,EAAvEK,CAA0EuB,GAAY,IAAIC,EAAgBC,SAAU,MAAM,IAAIC,MAAM,qBAAsB,MAAMjB,EAAKe,EAAgBf,OAAO,MAAM,CAACC,IAAIc,EAAgBb,GAAGC,MAAMH,EAAKG,OAAO,GAAGC,YAAYJ,EAAKI,aAAa,GAAGC,MAAML,EAAKK,OAAO,EAAEC,SAASN,EAAKM,UAAU,EAAEC,aAAaP,EAAKO,cAAc,GAAGC,aAAaR,EAAKQ,cAAc,EAAEC,OAAOT,EAAKS,QAAQ,GAAGC,iBAAiBV,EAAKU,kBAAkB,GAAI,CAAC,MAAMC,GAAqD,MAA9CC,QAAQD,MAAM,yBAAyBA,GAAaA,CAAM,CAAC,EAAE,mBAAMO,CAAcC,GAAa,IAA+f,aAAxe5B,OAAOL,EAAgE,EAAvEK,CAA0EA,OAAOL,EAAoE,EAA3EK,CAA8EJ,EAAyD,EAAE,YAAY,CAACgB,MAAMgB,EAAYhB,MAAMC,YAAYe,EAAYf,YAAYC,MAAMc,EAAYd,MAAMC,SAASa,EAAYb,SAASC,aAAaY,EAAYZ,aAAaC,aAAaW,EAAYX,aAAaC,OAAOU,EAAYV,OAAOC,iBAAiBS,EAAYT,oBAAiCR,EAAG,CAAC,MAAMS,GAAqD,MAA9CC,QAAQD,MAAM,yBAAyBA,GAAaA,CAAM,CAAC,EAEjnF","ignoreList":[]},"input":"(this[\"webpackJsonptravenest-frontend\"] = this[\"webpackJsonptravenest-frontend\"] || []).push([[8],{\n\n/***/ 46:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"packageService\", function() { return packageService; });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18);\n/* harmony import */ var _firebaseConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\nconst packageService={async getAllPackages(filters){try{const packagesCollection=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* collection */ \"b\"])(_firebaseConfig__WEBPACK_IMPORTED_MODULE_1__[/* db */ \"b\"],'packages');// Build query based on filters\nlet q=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* query */ \"g\"])(packagesCollection);if(filters){if(filters.minPrice!==undefined){q=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* query */ \"g\"])(q,Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* where */ \"h\"])('price','>=',filters.minPrice));}if(filters.maxPrice!==undefined){q=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* query */ \"g\"])(q,Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* where */ \"h\"])('price','<=',filters.maxPrice));}if(filters.destination){q=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* query */ \"g\"])(q,Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* where */ \"h\"])('destinations','array-contains',filters.destination));}}const packagesSnapshot=await Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* getDocs */ \"e\"])(q);return packagesSnapshot.docs.map(docSnapshot=>{const data=docSnapshot.data();return{_id:docSnapshot.id,title:data.title||'',description:data.description||'',price:data.price||0,duration:data.duration||0,destinations:data.destinations||[],availability:data.availability||0,images:data.images||[],includedServices:data.includedServices||[]};});}catch(error){console.error('Error fetching packages',error);throw error;}},async getPackageById(id){try{const packageDoc=Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* doc */ \"c\"])(_firebaseConfig__WEBPACK_IMPORTED_MODULE_1__[/* db */ \"b\"],'packages',id);const packageSnapshot=await Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* getDoc */ \"d\"])(packageDoc);if(!packageSnapshot.exists()){throw new Error('Package not found');}const data=packageSnapshot.data();return{_id:packageSnapshot.id,title:data.title||'',description:data.description||'',price:data.price||0,duration:data.duration||0,destinations:data.destinations||[],availability:data.availability||0,images:data.images||[],includedServices:data.includedServices||[]};}catch(error){console.error('Error fetching package',error);throw error;}},async createPackage(packageData){try{const docRef=await Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* addDoc */ \"a\"])(Object(firebase_firestore__WEBPACK_IMPORTED_MODULE_0__[/* collection */ \"b\"])(_firebaseConfig__WEBPACK_IMPORTED_MODULE_1__[/* db */ \"b\"],'packages'),{title:packageData.title,description:packageData.description,price:packageData.price,duration:packageData.duration,destinations:packageData.destinations,availability:packageData.availability,images:packageData.images,includedServices:packageData.includedServices});return docRef.id;}catch(error){console.error('Error creating package',error);throw error;}}};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/Users/pampam/TravelNest/TravelNest/frontend/src/components/Packages/PackageList.tsx"],"names":["packageService","getAllPackages","filters","packagesCollection","collection","db","q","query","minPrice","undefined","where","maxPrice","destination","packagesSnapshot","getDocs","docs","map","docSnapshot","data","_id","id","title","description","price","duration","destinations","availability","images","includedServices","error","console","getPackageById","packageDoc","doc","packageSnapshot","getDoc","exists","Error","createPackage","packageData","docRef","addDoc"],"mappings":"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","file":"x","sourcesContent":["import { \r\n  collection, \r\n  addDoc, \r\n  getDocs, \r\n  doc, \r\n  getDoc,\r\n  query,\r\n  where\r\n} from 'firebase/firestore';\r\nimport { db } from '../../firebaseConfig';\r\nimport { Package } from '../../types/Package';\r\n\r\ninterface PackageFilters {\r\n  minPrice?: number;\r\n  maxPrice?: number;\r\n  destination?: string;\r\n}\r\n\r\nexport const packageService = {\r\n  async getAllPackages(filters?: PackageFilters): Promise<Package[]> {\r\n    try {\r\n      const packagesCollection = collection(db, 'packages');\r\n      \r\n      // Build query based on filters\r\n      let q = query(packagesCollection);\r\n      \r\n      if (filters) {\r\n        if (filters.minPrice !== undefined) {\r\n          q = query(q, where('price', '>=', filters.minPrice));\r\n        }\r\n        \r\n        if (filters.maxPrice !== undefined) {\r\n          q = query(q, where('price', '<=', filters.maxPrice));\r\n        }\r\n        \r\n        if (filters.destination) {\r\n          q = query(q, where('destinations', 'array-contains', filters.destination));\r\n        }\r\n      }\r\n\r\n      const packagesSnapshot = await getDocs(q);\r\n      \r\n      return packagesSnapshot.docs.map(docSnapshot => {\r\n        const data = docSnapshot.data();\r\n        return {\r\n          _id: docSnapshot.id,\r\n          title: data.title || '',\r\n          description: data.description || '',\r\n          price: data.price || 0,\r\n          duration: data.duration || 0,\r\n          destinations: data.destinations || [],\r\n          availability: data.availability || 0,\r\n          images: data.images || [],\r\n          includedServices: data.includedServices || []\r\n        } as Package;\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching packages', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getPackageById(id: string): Promise<Package> {\r\n    try {\r\n      const packageDoc = doc(db, 'packages', id);\r\n      const packageSnapshot = await getDoc(packageDoc);\r\n      \r\n      if (!packageSnapshot.exists()) {\r\n        throw new Error('Package not found');\r\n      }\r\n\r\n      const data = packageSnapshot.data();\r\n      return {\r\n        _id: packageSnapshot.id,\r\n        title: data.title || '',\r\n        description: data.description || '',\r\n        price: data.price || 0,\r\n        duration: data.duration || 0,\r\n        destinations: data.destinations || [],\r\n        availability: data.availability || 0,\r\n        images: data.images || [],\r\n        includedServices: data.includedServices || []\r\n      } as Package;\r\n    } catch (error) {\r\n      console.error('Error fetching package', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async createPackage(packageData: Package): Promise<string> {\r\n    try {\r\n      const docRef = await addDoc(collection(db, 'packages'), {\r\n        title: packageData.title,\r\n        description: packageData.description,\r\n        price: packageData.price,\r\n        duration: packageData.duration,\r\n        destinations: packageData.destinations,\r\n        availability: packageData.availability,\r\n        images: packageData.images,\r\n        includedServices: packageData.includedServices\r\n      });\r\n      return docRef.id;\r\n    } catch (error) {\r\n      console.error('Error creating package', error);\r\n      throw error;\r\n    }\r\n  }\r\n};"]}}